/*
 * generated by Xtext 2.30.0
 */
package tracerypp.validation

import org.eclipse.xtext.validation.Check
import tracerypp.traceryPlusPlus.ObjectDeclaration

/**
 * This class contains custom validation rules. 
 *
 * See https://www.eclipse.org/Xtext/documentation/303_runtime_concepts.html#validation
 */
class TraceryPlusPlusValidator extends AbstractTraceryPlusPlusValidator {

	@Check
	def checkUniqueObjectName(ObjectDeclaration object) {
	   val objectName = object.name
	   val model = object.eContainer().eContents.filter(ObjectDeclaration).toList
	   var count = 0
	   for (obj : model) {
	   	if (obj.name == objectName) {
	   		count += 1;
	   	}
	   }
	   if (count > 1) {
	      error("Object with name '" + objectName + "' already exists.", null)
	   }
	}
	
}
